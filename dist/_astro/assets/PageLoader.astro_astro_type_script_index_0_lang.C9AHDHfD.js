class a{constructor(){this.loader=document.getElementById("page-loader"),this.isLoading=!1,this.init()}init(){this.interceptNavigation(),window.addEventListener("popstate",()=>{this.show()})}interceptNavigation(){document.addEventListener("click",e=>{const t=e.target.closest("a");if(t&&t.href&&!t.href.startsWith("javascript:")&&!t.href.startsWith("#")){const i=t.href,s=window.location.origin;i.startsWith(s)&&(e.preventDefault(),this.navigateTo(i))}})}async navigateTo(e){this.show();try{await this.delay(600),window.location.href=e}catch(t){console.error("Error en navegaciÃ³n:",t),this.hide()}}show(){this.isLoading||(this.isLoading=!0,this.loader.classList.add("active"),setTimeout(()=>{this.hide()},5e3))}hide(){this.isLoading=!1,this.loader.classList.remove("active")}delay(e){return new Promise(t=>setTimeout(t,e))}}document.addEventListener("DOMContentLoaded",()=>{new a});
